#  <center >Исследование и работа с данными С сайта HH.ru <center>
## <center>Краткое описание проекта<center> 
В проекте представлены этапы обработки данных:
* Исследование структуры данных
* Преобразование данных
* Исследование зависимостей в данных
* Очистка данных

Кратко расскажу о каждом этапе проета ниже

##  <center>Исследование структуры данных<center>

На этом этапе мы рассмотрели нашу **базу данных** выяснили следующие:
* Размерность таблицы 
    ```python 
    shape = data.shape
    print(shape)
    ```
* Какой тип у всех столбцов
    ```python
    # Вывод информации о таблице
    data.info()
    ```
* Где есть пропуски в наших данных
    ```python
    # Поиск столбцов с пропусками
    columns_with_nulls = data.columns[data.isnull().any()].tolist()

    # Вывод столбцов с пропусками
    print("Столбцы с пропусками:")
    print(columns_with_nulls)
    ```
## <center>Преобразование данных<center>

**Преобразование данных** здесь было проведенно много работы для того что бы наши сырые данные привести в подхлдящий для анализа вид было проделанно много работы мы поговорим обо всей работе что совершили в крации: 

1. Привели признак **Образование и ВУЗ** в котором было много воды В признак **Образование** где указан только уровень образования а именно:

    * «высшее», «неоконченное высшее», «среднее специальное» и «среднее».

2. Столбец **Пол и возраст** из этого столбца создали 2 новых признака **Пол** и **Возраст**. При этом наши 2 признака должны учитывать следующие:

    * Признак пола должен иметь два уникальных строковых значения: М — мужчина, Ж — женщина.
    * Признак возраста должен быть представлен целыми числами.

3. Следующим этапом преобразуем признак **«Опыт работы»**.Из столбца нам необходимо выделить общий опыт работы соискателя в месяцах, новый признак назовём **«Опыт работы (месяц)»**. Учитывая следующие условия:

    * Во-первых, в данном признаке есть пропуски. Условимся, что, если мы встречаем пропуск, оставляем его как есть (функция-преобразование возвращает NaN).
    * Во-вторых, в данном признаке есть скрытые пропуски. Для некоторых соискателей в столбце стоит значение Не указано. Их тоже обозначим как NaN (функция-преобразование возвращает NaN)
    * В-третьих, нас не интересует информация, которая описывается после указания опыта работы (периоды работы в различных компаниях).
    * В-четвёртых, у нас есть проблема: опыт работы может быть представлен только в годах или только в месяцах.

4. С ледующий признак **«Город, переезд, командировки»**.Создадим отдельные признаки «Город», «Готовность к переезду», «Готовность к командировкам». При этом важно учесть:
    * Информация о метро, рядом с которым проживает соискатель, нас не интересует.
    * Нас интересует только сам факт возможности/желания переезда.
    * Нас интересует только сам факт готовности к командировке.

5. Далее признаки **«Занятость» и «График»**.Сейчас признаки представляют собой набор категорий желаемой занятости (полная занятость, частичная занятость, проектная работа, волонтёрство, стажировка) и желаемого графика работы (полный день, сменный график, гибкий график, удалённая работа, вахтовый метод). Воспользуемся методом преобразования категориальных признаков One Hot Encoding. Посмотрим на схему

![](https://lms-cdn.skillfactory.ru/assets/courseware/v1/5461aeb8c39a8cb9731eb5f52b66f5a3/asset-v1:SkillFactory+DSPR-2.0+14JULY2021+type@asset+block/dst-3.0_16_3_1.png)

6. Признак заработной платы **«ЗП»**. Проблема в том, что помимо желаемой заработной платы соискатель указывает валюту, в которой он хотел бы её получать Нам бы хотелось видеть заработную плату в единой валюте, например в рублях. Возникает вопрос: а где взять курс валют по отношению к рублю.

***Пропорция*** — это число, отражающее, скольким единицам валюты соответствует курс в таблице с курсами. Например для казахстанского тенге курс на 20.08.2019 составляет 17.197 руб. за 100 тенге, тогда итоговый курс равен: 17.197 / 100 = 0.17197 руб. за 1 тенге.
Пропорции с которыми будем работать в этом проекте.

![alt text](image.png)

Алгоритм преобразования:

    * Обновить признак "Обновление резюме" из таблицы с резюме, переведя его в формат datetime и выделив из него дату. То есть в дате обновления резюме мы намеренно отсекаем время, оставляя только дату выставления резюме. В тот же формат привести признак date из таблицы с валютами. Обратите внимание на формат даты в исходных столбцах (день-месяц-год), учтите этот факт при преобразовании.
    * Выделить из столбца «ЗП» сумму желаемой заработной платы и наименование валюты, в которой она исчисляется. Наименование валюты перевести в стандарт ISO согласно таблице выше.
    * Присоединить к таблице с резюме таблицу с курсами по столбцам с датой и названием валюты (подумайте, какой тип объединения надо выбрать, чтобы в таблице с резюме сохранились данные о заработной плате, изначально представленной в рублях). Значение close для рубля заполнить единицей 1 (курс рубля самого к себе).
    * Умножить сумму желаемой заработной платы на присоединённый курс валюты (close) и разделить на пропорцию. Обратите внимание на пропуски после объединения в этих столбцах. Результат занести в новый столбец «ЗП (руб)».

## <center>Исследование зависимостей в данных<center>

Теперь у нас есть всё необходимое, чтобы провести первичный анализ зависимостей в наших данных о резюме. Такой анализ часто называют разведывательным анализом (EDA) и он предназначен для выявления связей между признаками, выявления закономерностей, определения распределений признаков, поиска аномалий и других дефектов данных.

С исследованием зависимостей в нашем проекте можно подробно ознакомится в нашем ноутбуке (Project_data_base) с получившимися графиками в папке проекта (graph)

## <center>Очистка данных<center>

Для очистки данных было проведенно несколько операций подробнее что мы сделали : 

* Начнём с дубликатов в наших данных.
    ```python
    # Найдем и удалим полные дубликаты
    duplicates_removed_df = data.drop_duplicates()

    # Определим количество удаленных дубликатов
    num_duplicates_removed = len(data) - len(duplicates_removed_df)

    print("Количество полных дубликатов, найденных и удаленных:", num_duplicates_removed)
    ```

* Займёмся пропусками. Выводим информацию о числе пропусков в столбцах.
    ```python
    # Вывод информации о числе пропусков в столбцах
    missing_values_info = duplicates_removed_df.isnull().sum()

    # Вывод числа пропусков в столбце "Опыт работы (месяц)"
    experience_missing_values = missing_values_info['Опыт работы (месяц)']

    print("Информация о числе пропусков в столбцах:")
    print(missing_values_info)
    print("\nКоличество пропусков в столбце 'Опыт работы (месяц)':", experience_missing_values)
    ```

* Чему равно результирующее среднее значение в столбце «Опыт работы (месяц)» после заполнения пропусков.
    ```python
    # Удаление строк с пропусками в столбцах с местом работы и должностью
    data.dropna(subset=['Последнее/нынешнее место работы', 'Последняя/нынешняя должность'], inplace=True)

    # Заполнение пропусков в столбце с опытом работы медианным значением
    median_experience = data['Опыт работы (месяц)'].median()
    data['Опыт работы (месяц)'].fillna(median_experience, inplace=True)

    # Расчет среднего значения в столбце "Опыт работы (месяц)"
    average_experience = round(data['Опыт работы (месяц)'].mean())

    print("Результирующее среднее значение в столбце 'Опыт работы (месяц)' после заполнения пропусков:", average_experience)
    ```

* Как мы нашли выбросы:

    ``` python
    # Фильтрация данных для удаления выбросов
    outliers_removed_df = data[
        (data['ЗП (руб)'] >= 1000) & 
        (data['ЗП (руб)'] <= 1000000)
    ]

    # Подсчет количества выбросов
    num_outliers = len(data) - len(outliers_removed_df)

    print("Количество выбросов, удаленных из данных:", num_outliers)
    ```

* В процессе разведывательного анализа мы обнаружили резюме, в которых **опыт работы в годах превышал возраст соискателя**. Найдем количество таких значений.

    ```python
    # Найти резюме, где опыт работы в годах превышает возраст соискателя
    outliers = data[(data['Опыт работы (месяц)'] / 12) > data['Возраст']]

    # Подсчитать количество найденных выбросов
    num_outliers = len(outliers)

    # Удалить выбросы из данных
    cleaned_df = data.drop(outliers.index)

    print("Количество выбросов, найденных и удаленных:", num_outliers)
    ```

* Последний этап очистки сколько отклонений нашли с помощью метода z-отклонений, что такое z-отклонения сначала стоит в этом разобраться прежде чем приступать к очистке наших данных.
на примере графика рассмотрим z-отклонения.

![](https://www.drdawnwright.com/wp-content/uploads/2019/09/IQ4b.png)

***Метод Z-отклонений*** — это статистический метод выявления выбросов в данных. Он включает в себя вычисление стандартного отклонения данных, а затем определение количества стандартных отклонений от среднего значения каждой точки данных. Точки данных, которые отличаются от среднего значения более чем на определенное количество стандартных отклонений, считаются выбросами.

# <center>Используемые библиотеки<center>

Все что использовалось находтися в файле [requirements]

# <center>Ссылка на проект на сервисе Google Диск <center>

[google_disk](https://drive.google.com/drive/folders/1GJ9GTVl24EePQoaa3n5s1rfaH4tGJbJa?usp=sharing)
